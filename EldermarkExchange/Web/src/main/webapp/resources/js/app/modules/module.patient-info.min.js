ExchangeApp.modules.PatientInfo=function(){function e(e){var t=d();return C.grid(t.$html,t.random,e)}function t(e){var t=d();return C.alert(t.$html,t.random,e)}function a(e,t){var a=d();a.ajaxMap||(a.ajaxMap={});var n=e||a.$html,r=t||a.random,o=k.findAjaxUrls(n,r);$.each(o,function(e,t){a.ajaxMap[i(t,{params:!0})]=t}),k.find(n,r,'[data-ajax-load="true"]').on("click",function(){if(!$(this).attr("data-ajax-anchor")){var e=$(this).attr("data-ajax-url-tmpl"),t=$(this).attr("data-ajax-url-vars"),a=$(this).attr("data-ajax-url-params"),n=k.getUrl(e,t,a);return"patient-search"==e&&a&&-1!==a.indexOf("firstName")?S.reload(n):S.route(n),!1}}),k.find(n,r,'[data-ajax-anchor="true"]').on("click",function(){var e=$($(this).attr("href")).parent();return e.length&&$("html, body").animate({scrollTop:e.offset().top},200),!1})}function n(e,t){var a=d(),n=e||a.$html,i=t||a.random;return n=k.randomize(n,i,!1)}function i(e,t){return k.stringifyUrl(e,t)}function r(e){var t=d();return k.find(t.$html,t.random,e)}function o(e){var t=d();return e?e.replace(t.random,""):e}function d(){return v[i(y,{params:!0})]}function c(){return i(y,{params:!0}).replace(/[/&\?=]/g,"_")}function s(){return $(document.getElementById(c()))}function l(e){var t=r("#documentsTab .badge"),a=parseInt(t.find(".badgeValue").html())+e;a>0?t.find(".badgeValue").html(a):(t.find(".badgeValue").html(0),t.addClass("hidden"))}function u(e,t,a,n,i){if(e){var o=r("#dataSourceDetailsTemplate").clone(),c="dataSourceDetailsTemplate-"+e.id;o.attr("id",c),o.removeClass("hidden"),$(e).popover({html:!0,content:o[0],trigger:"hover",placement:function(){return"bottom"}});var s={dataSourceName:t,dataSourceOID:a,communityName:n,communityOID:i};for(var l in s)s[l]?k.find(o,d().random,"#"+l).text(s[l]):k.find(o,d().random,"#"+l+"Layout").hide()}}function m(){for(var e=["allergies","medications","problems","procedures","results","encounters","advanceDirectives","familyHistory","vitalSigns","immunizations","payerProviders","medicalEquipment","socialHistory","planOfCare"],t=0;t<e.length;t++)f(e[t])}function f(e){var t=y.variables.residentId,a=r("#aggregatedRecord").val(),n=y.params.hashKey,i=$(this),o=r("#patientInfoUrl").attr("href")+t+"/ccd/"+e+"/"+a+"/total?hashKey="+n;if(o){var d=i.attr("id");$.ajax({type:"GET",contentType:"json",url:o,success:function(a){var i=a<=0,o=r("#"+e+"CollapsedPanel .badge");o.find(".badgeValue").html(i?0:a),o.toggleClass("hidden",i),r("#"+e+"CollapsedPanel").toggleClass("disabled",i),!0===data.viewable&&!0==!data.isFreeText&&$row.on("click",function(e){b.call(this,{sectionName:d,mode:"view",residentId:t,hashKey:n,id:data[O[d]]}),e&&e.preventDefault()})},error:function(){r("#"+e+"CollapsedPanel .badge").addClass("hidden")}})}}function p(){var e=y.variables.residentId,t=y.params.databaseId,a=r("#aggregatedRecord").val(),n=y.params.hashKey,i=r("#patientInfoUrl").attr("href")+e+"/documents/"+a+"/total?hashKey="+n+"&databaseId="+t;$.ajax({type:"GET",contentType:"json",url:i,success:function(e){!function(e,t){var a=r("#documentsTab .badge");a.find(".badgeValue").html(e?0:t),a.toggleClass("hidden",e)}(e<=0,e)},error:function(){r("#documentsTab .badge").addClass("hidden")}})}function b(e){if(void 0!==I[e.sectionName]){var t=r("#ccdContainer"),a=$(this);if(!a.hasClass("pending")){a.addClass("pending");var n="patient-info/"+e.residentId+"/ccd/"+e.sectionName+"/"+e.mode;return"view"!==e.mode&&"edit"!==e.mode||(n+="/"+e.id),n+="?hashKey="+e.hashKey,$.ajax(n).success(function(n){t.empty(),t.append(n),I[e.sectionName](t,e),a.removeClass("pending"),$(window).resize(function(){t.find(".modal-body").css({"max-height":$(window).height()-220})}),$(window).trigger("resize"),t.find("#"+e.sectionName+"CcdModal").modal("show")}).fail(function(e){a.removeClass("pending"),alert(e.responseText)}),!1}}}function h(e,t){var a=e.find("#problem\\.endDate").datetimepicker({format:"MM/DD/YYYY hh:mm A (Z)",maxDate:new Date});e.find("#problem\\.startDate").datetimepicker({format:"MM/DD/YYYY hh:mm A (Z)",maxDate:new Date}),e.find("#problem\\.onSetDate").datetimepicker({format:"MM/DD/YYYY",maxDate:new Date}),e.find("#problem\\.recordedDate").datetimepicker({defaultDate:new Date,format:"MM/DD/YYYY hh:mm A (Z)",maxDate:new Date});var n=function(e){return e.find("#problemsCcdForm").validate(new ExchangeApp.utils.wgt.Validation({rules:{"value.id":{required:!0},"value.id_searchInput":{required:!0},primary:{required:!0},"type.id":{required:!0},"status.id":{required:!0},endDate:{required:!0},recordedDate:{required:!0},comments:{maxlength:2e4}},messages:{"value.id":{required:getErrorMessage("field.empty")},"value.id_searchInput":{required:getErrorMessage("field.empty")},primary:{required:getErrorMessage("field.empty")},"type.id":{required:getErrorMessage("field.empty")},"status.id":{required:getErrorMessage("field.empty")},endDate:{required:getErrorMessage("field.empty")},recordedDate:{required:getErrorMessage("field.empty")}}}))}(e);e.find("#problem\\.status\\.id").on("change",function(){"413322009"===$(this).find(":selected").attr("data-code")?a.removeAttr("disabled"):(a.attr("disabled","disabled"),a.val(""))});var i=e.find('[name="primary"]'),r=i.filter(function(){return"false"===this.value}),o=i.filter(function(){return"true"===this.value}),c=o.is(":checked");c||(r.on("click",function(){c=!1}),o.on("click",function(){if(!o.hasClass("pending")&&!c)return o.addClass("pending"),$.ajax("patient-info/"+t.residentId+"/ccd/problems/primary?hashKey="+t.hashKey).success(function(e){-1!==e?bootbox.confirm({title:"Change primary diagnosis?",message:"Primary diagnosis is already set. Do you want to change the selection?",buttons:{cancel:{label:"No"},confirm:{label:"Yes"}},callback:function(e){r.prop("checked",!e),o.prop("checked",e),o.removeClass("pending"),c=e,$(this).on("hidden.bs.modal",function(){$("body").addClass("modal-open")})}}):(o.prop("checked",!0),o.removeClass("pending")),i.blur()}),!1}));var s=C.lifeSearch(e,"",{select:"#problem\\.value\\.id",searchInput:"#problem\\.value\\.id_searchInput",notEmptyKeyUpCallBack:function(e){d().widgets.problemValueDropdown.api().ajax.reload()},searchInputNotEmptyClickCallback:function(e){d().widgets.problemValueDropdown.api().ajax.reload()}});d().widgets.problemValueDropdown=C.grid(d().$html,"",{tableId:"problemValueDropdown",totalDisplayRows:7,selectable:{type:"single"},searchFormId:"problem\\.value\\.id_searchInput",language:{sZeroRecords:"No data found. Please contact your Administrator to solve the issue."},callbacks:{rowCallback:function(e,t,a){$(e).click(function(){s.setSelectValue(t.id,t.displayName),s.close()})},drawCallback:function(e){},errorCallback:function(e){},footerCallback:function(e,t,a,n,i){$(e).hide()},headerCallback:function(e,t,a,n,i){}}}),d().widgets.diagnosisInformation=C.grid(d().$html,"",{tableId:"problemDiagnosisInformation",paginate:!1,selectable:{type:"single"},searchFormId:"problem\\.value\\.id",callbacks:{rowCallback:function(e,t,a){$(e)},drawCallback:function(e){},errorCallback:function(e){},footerCallback:function(e,t,a,n,i){$(e).hide()},headerCallback:function(e,t,a,n,i){}}});var l=e.find("#problem\\.value\\.id"),u=e.find("#diagnosisInformationWrapper");u.hide(),l.on("change",function(){""===$(this).val()||null===$(this).val()||void 0===$(this).val()?u.hide():(u.show(),d().widgets.diagnosisInformation.api().ajax.reload())}),e.find("#submitNoteBtn").on("click",function(){var a=e.find("#problemsCcdForm");if(!a.valid())return n.focusInvalid(),!1;var i=$(this);return i.hasClass("pending")||(i.addClass("pending"),$.ajax({url:a.attr("action"),data:new FormData(a[0]),type:"POST",enctype:"multipart/form-data",processData:!1,contentType:!1,beforeSend:function(e){k.csrf(e)},success:function(a){e.find("#problemsCcdModal").modal("hide"),f(t.sectionName),d().widgets.problemsList.api().ajax.reload(),"add"===t.mode?(d().widgets.patientEventList.api().ajax.reload(),bootbox.alert("Problem has been added")):"edit"===t.mode&&bootbox.alert("Problem has been edited")},error:function(e){k.onAjaxError(e,function(){alert(e.responseText)}),i.removeClass("pending")}})),!1}),e.find(".cancelBtn").on("click",function(){e.find("#problemsCcdModal").modal("hide")})}var g,v={},y={template:"patient-info/{residentId}"},w={reloadNeeded:!1},S=ExchangeApp.routers.ModuleRouter,k=ExchangeApp.utils.module,C=ExchangeApp.utils.wgt,D=ExchangeApp.loaders.FragmentLoader.init("patientInfo"),x={allergies:function(){d().widgets.allergiesList=e({tableId:"allergiesList",colSettings:{reactions:{bSortable:!1},status:{width:"100px"},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="allergy-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},totalDisplayRows:15,callbacks:{rowCallback:function(e,t,a){u($(e).find("#allergy-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},medications:function(){d().widgets.medicationsList=e({tableId:"medicationsList",colSettings:{indications:{bSortable:!1},startDate:{width:"70px"},endDate:{width:"70px"},status:{width:"100px"},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="meds-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},totalDisplayRows:15,callbacks:{rowCallback:function(e,t,a){u($(e).find("#meds-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},problems:function(){var t=y.variables.residentId,a=y.params.hashKey;d().widgets.problemsList=e({tableId:"problemsList",totalDisplayRows:15,colSettings:{name:{bSortable:!0,customRender:function(e,t,a){return e?a.viewable?'<a href="#" id="problems-name-'+a.id+'" data-observation-id="'+a.problemObservationId+'">'+e+"</a>":e:""}},dataSource:{customRender:function(e,t,a){return e?!0===a.manual?"<span>Simply Connect HIE</span>":'<a href="#" id="problems-source-'+a.id+'" onclick="return false" class="dataSourceCol">'+e+"</a>":""}},supportingDocuments:{bSortable:!1,customRender:function(e){return e?e.split("|").reduce(function(e,t,a){return e+(0==a?"":", ")+'<a href="'+t+'">Advance Directive</a>'},""):""}},actions:{width:"100px",className:"actionsColumn"}},callbacks:{rowCallback:function(e,n,i){var o=$(e);u(o.find("#problems-source-"+n.id)[0],n.dataSource,n.dataSourceOid,n.community,n.communityOid),o.children("td.actionsColumn").empty();var d=r("#ccdRowActions").clone();if(!0===n.editable||!0===n.deletable){var c="ccdRowActions-"+i;if(d.attr("id",c),d.removeClass("hidden"),o.children("td.actionsColumn").append(d),!0===n.editable){var s=d.find(".editCcd");s.removeClass("hidden"),s.on("click",function(){return b.call(this,{sectionName:"problems",mode:"edit",residentId:t,hashKey:a,id:n.problemObservationId}),!1})}if(!0===n.deletable){var l=d.find(".deleteCcd");l.removeClass("hidden"),l.on("click",function(){return bootbox.confirm({title:"Delete the record?",message:"The record will be deleted.",buttons:{cancel:{label:"Cancel"},confirm:{label:"Ok"}},callback:function(e){e&&$.ajax({url:"patient-info/"+t+"/ccd/problems/delete/"+n.problemObservationId+"?hashKey="+a,data:"",type:"POST",enctype:"multipart/form-data",processData:!1,contentType:!1,beforeSend:function(e){k.csrf(e)},success:function(e){bootbox.alert("The record has been deleted")},error:function(e){k.onAjaxError(e,function(){alert(e.responseText)})}})}}),!1})}}!0===n.viewable&&o.on("click",function(e){b.call(this,{sectionName:"problems",mode:"view",residentId:t,hashKey:a,id:n.problemObservationId}),e&&e.preventDefault()})},footerCallback:function(e,t,a,n,i){$(e).hide()}}}),r(".addCcdLink").on("click",function(e){b.call(this,{sectionName:"problems",mode:"add",residentId:t,hashKey:a}),e&&e.preventDefault()})},procedures:function(){d().widgets.proceduresList=e({tableId:"proceduresList",colSettings:{startDate:{width:"70px"},endDate:{width:"70px"},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="proc-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},totalDisplayRows:15,callbacks:{rowCallback:function(e,t,a){u($(e).find("#proc-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},results:function(){d().widgets.resultsList=e({tableId:"resultsList",totalDisplayRows:15,colSettings:{date:{width:"80px"},type:{width:"100px"},statusCode:{width:"100px"},referenceRanges:{bSortable:!1},value:{bSortable:!1},interpretations:{bSortable:!1},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="results-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},callbacks:{rowCallback:function(e,t,a){u($(e).find("#results-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},encounters:function(){d().widgets.encountersList=e({tableId:"encountersList",totalDisplayRows:15,colSettings:{date:{width:"80px"},providerCodes:{bSortable:!1},serviceDeliveryLocations:{bSortable:!1},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="enc-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},callbacks:{rowCallback:function(e,t,a){u($(e).find("#enc-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},advanceDirectives:function(){d().widgets.advanceDirectivesList=e({tableId:"advanceDirectivesList",totalDisplayRows:15,colSettings:{type:{width:"100px"},verification:{bSortable:!1},supportingDocuments:{bSortable:!1,customRender:function(e){return e?e.split("|").reduce(function(e,t,a){return e+(0==a?"":", ")+'<a href="'+t+'">Advance Directive</a>'},""):""}},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="adv-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},callbacks:{rowCallback:function(e,t,a){u($(e).find("#adv-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},familyHistory:function(){d().widgets.advanceDirectivesList=e({tableId:"familyHistoryList",colSettings:{ageAtOnset:{width:"100px"},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="fam-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},totalDisplayRows:15,callbacks:{rowCallback:function(e,t,a){u($(e).find("#fam-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},vitalSigns:function(){d().widgets.vitalSignsList=e({tableId:"vitalSignsList",colSettings:{date:{width:"80px"},type:{width:"300px"},value:{bSortable:!1},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="vital-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},totalDisplayRows:15,callbacks:{rowCallback:function(e,t,a){u($(e).find("#vital-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},immunizations:function(){d().widgets.immunizationsList=e({tableId:"immunizationsList",colSettings:{startDate:{width:"80px"},endDate:{width:"80px"},status:{width:"100px"},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="immun-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},totalDisplayRows:15,callbacks:{rowCallback:function(e,t,a){u($(e).find("#immun-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},payerProviders:function(){d().widgets.payerProvidersList=e({tableId:"payerProvidersList",colSettings:{coverageDateStart:{width:"80px"},coverageDateEnd:{width:"80px"},insuranceType:{width:"150px"},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="payer-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},totalDisplayRows:15,callbacks:{rowCallback:function(e,t,a){u($(e).find("#payer-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},medicalEquipment:function(){d().widgets.medicalEquipmentList=e({tableId:"medicalEquipmentList",colSettings:{suppliedDate:{width:"100px"},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="equip-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},totalDisplayRows:15,callbacks:{rowCallback:function(e,t,a){u($(e).find("#equip-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},socialHistory:function(){d().widgets.socialHistoryList=e({tableId:"socialHistoryList",totalDisplayRows:15,colSettings:{dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="social-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},callbacks:{rowCallback:function(e,t,a){u($(e).find("#social-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},planOfCare:function(){d().widgets.planOfCareList=e({tableId:"planOfCareList",colSettings:{plannedActivity:{bSortable:!0,customRender:function(e,t,a){if(!e)return"";if(a.isFreeText){var n="planOfCare";return'<a href="narrative/ccd/'+n+"/"+a[O[n]]+"/"+e+'" id="planOfCare-name-free-text'+a.id+'" data-observation-id="'+a.planOfCareId+'" target="_blank" rel="nofollow noopener">'+e+"</a>"}return e}},plannedDate:{width:"100px"},dataSource:{bSortable:!1,customRender:function(e,t,a){return e?'<a href="#" id="care-source-'+a.id+'" onclick="return false">'+e+"</a>":""}}},totalDisplayRows:15,callbacks:{rowCallback:function(e,t,a){u($(e).find("#care-source-"+t.id)[0],t.dataSource,t.dataSourceOid,t.community,t.communityOid)}}})},documents:function(){var t=y.variables.residentId,a=y.params.databaseId,n=y.params.hashKey,i=r("#aggregatedRecord").val(),o=r("#patientInfoUrl").attr("href")+t+"/documents/";g.initDocumentList(t,a,n,i,o,e),g.setDocumentListPanelEvents(t,a,n,o,i,l,!1,"composeMsgBtn")}},I={problems:h},O={problems:"problemObservationId",planOfCare:"planOfCareId"};return{init:function(i){y=i,this.renderHolder(),this.loadFragment({onFragmentLoaded:function(){d().random=k.rand(),n(),a()},onResourcesLoaded:function(){var a=d();a.widgets={},(g=ExchangeApp.utils.patientccd).init(d,e,t,y,!1,r),g.initCompanyName(),m(),p(),this.setEvents(),this.render(),this.show(),r(".guardians").masonry({itemSelector:".item",percentPosition:!0,columnWidth:".item"}),r(".ccdHeaderItem .commonInfo").masonry({itemSelector:".item",percentPosition:!0,columnWidth:".item"}),a.inited=!0}})},update:function(e){y=e,m(),p()},getFragment:function(e){return v[i(e,{params:!0})]},isFragmentInited:function(e){var t=this.getFragment(e);return t&&t.inited},loadFragment:function(e){var t=this;D.load({url:y,callbacks:{onFragmentLoaded:function(a){w.reloadNeeded=!1;var n=$(a).find("#content .markup-frg"),r=i(y,{params:!0});v[r]={$html:n,url:k.clone(y)},e.onFragmentLoaded.apply(t)},onResourcesLoaded:function(){e.onResourcesLoaded.apply(t)}}})},render:function(){var e=d().$html;s().empty(),s().append(e)},renderHolder:function(){if(!document.getElementById(c())){var e=$("<div/>");e.attr("id",c()),e.hide(),$("#content").append(e)}},hide:function(){s().hide(),$("#content").addClass("loading")},show:function(){s().show(),$("#content").removeClass("loading")},setEvents:function(){r('[data-toggle="ajaxtab"]').on("click",function(e){var t=$(this),i=t.attr("href"),c=t.attr("data-target");r(o(c)).children().remove(),r(o(c)).addClass("tab-loading");var s=r(o(c)).attr("id");return $.get(i,function(e,t,i){var l=$(e),u=d();n(l,u.random),r(o(c)).removeClass("tab-loading").html(l),x[o(s)]&&x[o(s)](),a(l,u.random)}),t.tab("show"),!1}),r(".ccdDetailItem .collapse, .ccdHeaderDetails .collapse").on("show.bs.collapse",function(){var e=$(this),t=e.attr("href"),i=$(this).find(".clp-pnl-content");if(r('[href*="'+e.attr("id")+'"]').hasClass("disabled"))return!1;if(t){var c=e.attr("id");$.get(t,function(e,t,s){var l=$(e),u=d();n(l,u.random),i.html(l),x[o(c)]?x[o(c)]():r(".participants, .authors, .dataEnterer, .custodian, .informants, .authenticators, .documentationOf").masonry({itemSelector:".item",percentPosition:!0,columnWidth:".item"}),a(l,u.random)})}}),r("#openAllBtn, #closeAllBtn").on("click",function(){r("#openAllBtn, #closeAllBtn").toggleClass("hidden");var e=$(this).attr("id").indexOf("openAllBtn")>=0?"show":"hide";r(".ccdDetailItem .collapse").collapse(e)}),r(".jumpLnk").on("click",function(){r(o($(this).attr("href"))).collapse("show")}),r("#downloadPatientRecordBtn").on("click",function(){var e=y.variables.residentId,a=y.params.databaseId,n={data:{hashKey:y.params.hashKey,databaseId:a,aggregated:r("#aggregatedRecord").val()},failCallback:function(e){t({action:"add",placeSelector:".patientInfoBody",message:e.responseText,closable:{timer:45e3,btn:!0}}),window.console.log(e)}};$.fileDownload(r("#patientInfoUrl").attr("href")+e+"/documents/ccd/download",n)});var e=y.variables.residentId,i=y.params.databaseId,c=y.params.hashKey,u="[id="+$(s()[0]).attr("id")+"]",m=r("#patientInfoUrl").attr("href")+e+"/documents/";g.initUploadForm(e,i,c,u,m,l),r("[data-section-name]").on("click",function(t){b.call(this,{sectionName:$(this).attr("data-section-name"),mode:"add",residentId:e,hashKey:c}),t&&t.preventDefault()})},reloadNeeded:function(){return w.reloadNeeded},showDataSourceDetailsPopup:function(e){return u(e)}}}();