ExchangeApp.managers.ModuleManager=function(){function e(e){return n+"/resources/js/app/modules/"+e+(a?".min":"")+".js"}function o(e){var o=i[e.module.name].parentModule;for(var a in d){var n=i[a].parentModule;r[a]||(n&&o&&n===o||!n&&!o||!n&&a!==o)&&d[a].hide()}}var a="production"===ExchangeApp.config.mode,n=ExchangeApp.info.context;n||(n="");var t,i={PatientInfo:{js:e("module.patient-info")},PatientSearch:{js:e("module.patient-search")},Profile:{js:e("module.profile")},SecureMessaging:{js:e("module.secure-messaging")},SecureMessagingConfigWarning:{js:e("module.secure-messaging.config-warning")},SecureMessagingComposeMsg:{js:e("module.secure-messaging.compose")},SecureMessagingSetup:{js:e("module.secure-messaging.setup")},CareCoordination:{defaultChild:"CareCoordinationEventsLog",js:e("care-coordination/module.care-coordination"),template:"care-coordination"},CareCoordinationEventsLog:{parentModule:"CareCoordination",js:e("care-coordination/module.events-log"),template:"care-coordination/events-log"},CareCoordinationContacts:{parentModule:"CareCoordination",js:e("care-coordination/module.contacts")},CareCoordinationPatients:{parentModule:"CareCoordination",js:e("care-coordination/module.patients")},CareCoordinationPatientServicePlans:{parentModule:"CareCoordination",js:e("care-coordination/module.service-plans")},CareCoordinationCommunities:{parentModule:"CareCoordination",js:e("care-coordination/module.communities")},CareCoordinationOrganizations:{parentModule:"CareCoordination",js:e("care-coordination/module.organizations")},Administration:{defaultChild:"AdministrationSuggestedMatches",js:e("administration/module.administration"),template:"administration"},AdministrationManualMatching:{parentModule:"Administration",js:e("administration/module.manual-matching"),template:"administration/manual-matching"},AdministrationSuggestedMatches:{parentModule:"Administration",js:e("administration/module.suggested-matches"),template:"administration/suggested-matches"},Reports:{js:e("module.reports"),template:"reports"},Header:{js:e("module.header")},Footer:{js:e("module.footer")}},r={Header:!0,Footer:!0},d=ExchangeApp.modules;return $(document).on("ready",function(){var e=ExchangeApp.managers.ModuleManager;e.invoke({module:{name:"Header",fragment:{url:{template:"header"}}}}),e.invoke({module:{name:"Footer",fragment:{url:{template:"footer"}}}})}),{urlModuleMap:{},invoke:function(e){t||(t=ExchangeApp.loaders.ModuleLoader);var a=e.module.fragment.url,n=e.module.name,r=n&&i[n].parentModule,s=e.forceReload||d[n]&&d[n].reloadNeeded();d[n]&&!s?(e.asyncLoad||o(e),r&&(d[r].loaded(),d[r].show()),d[n].isFragmentInited(a)?d[n].update(a):d[n].init(a),d[n].show()):n&&(e.asyncLoad||o(e),i[n].defaultChild&&(r=n,n=i[n].defaultChild,(a=ExchangeApp.utils.module.getUrl(i[n].template))||console.error("URL template is undefined for child module "+n)),r&&!d[r]?t.load({url:i[r].js,callback:function(){var o={template:i[r].template};d[r].isFragmentInited(o)?d[r].update(o):d[r].init(o),d[r].show();var s=d[r].loaded;d[r].loaded=function(){if(s)var o=s.apply(this,arguments);return t.load({url:i[n].js,callback:function(){d[n].isFragmentInited(a)?d[n].update(a):d[n].init(a),e.asyncLoad||d[n].show()}}),d[r].loaded=s,o}}}):t.load({url:i[n].js,callback:function(){d[n].isFragmentInited(a)?(d[n].update(a),e.asyncLoad||d[e.module.name].show()):d[n].init(a,d[e.module.name])}}))},setLoader:function(){t=ExchangeApp.loaders.ModuleLoader},callback:function(){}}}();