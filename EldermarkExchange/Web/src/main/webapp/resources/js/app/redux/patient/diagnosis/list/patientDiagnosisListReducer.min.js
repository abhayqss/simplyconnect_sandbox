define([path("app/lib/Constants"),path("./PatientDiagnosisListInitialState")],function(e,t){var a=e.actionTypes,n=e.FIRST_PAGE;return function(e,r){if(!((e=e||new t)instanceof t))return initialState.mergeDeep(e);var i=r.payload;switch(r.type){case a.CLEAN_PATIENT_DIAGNOSES:return e.removeIn(["error"]).setIn(["isFetching"],!1).removeIn(["dataSource","data"]);case a.CLEAN_PATIENT_DIAGNOSIS_LIST_ERROR:return e.removeIn(["error"]);case a.LOAD_PATIENT_DIAGNOSES_REQUEST:return e.setIn(["error"],null).setIn(["isFetching"],!0);case a.LOAD_PATIENT_DIAGNOSES_SUCCESS:var I=i.page,o=i.pageSize,s=i.totalCount,S=i.patientId||null,c=e.setIn(["isFetching"],!1).setIn(["dataSource","pagination","page"],I).setIn(["dataSource","pagination","pageSize"],o).setIn(["dataSource","pagination","totalCount"],s).setIn(["dataSource","filter","patientId"],S),u=r.payload.data,p=e.getIn(["dataSource","data"])||[];return u=I===n?u:$.extend(p,u),c.setIn(["dataSource","data"],u);case a.LOAD_PATIENT_DIAGNOSES_FAILURE:return e.setIn(["isFetching"],!1).setIn(["error"],r.payload)}return e}});