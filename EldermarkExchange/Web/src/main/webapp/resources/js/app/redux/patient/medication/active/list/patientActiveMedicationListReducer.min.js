define([path("app/lib/Constants"),path("./PatientActiveMedicationListInitialState")],function(e,t){var a=e.actionTypes,n=e.FIRST_PAGE;return function(e,r){if(!((e=e||new t)instanceof t))return initialState.mergeDeep(e);var I=r.payload;switch(r.type){case a.CLEAN_PATIENT_ACTIVE_MEDICATIONS:return e.removeIn(["error"]).setIn(["isFetching"],!1).removeIn(["dataSource","data"]);case a.CLEAN_PATIENT_ACTIVE_MEDICATION_LIST_ERROR:return e.removeIn(["error"]);case a.LOAD_PATIENT_ACTIVE_MEDICATIONS_REQUEST:return e.setIn(["error"],null).setIn(["isFetching"],!0);case a.LOAD_PATIENT_ACTIVE_MEDICATIONS_SUCCESS:var i=I.page,o=I.pageSize,s=I.totalCount,T=I.patientId||null,c=e.setIn(["isFetching"],!1).setIn(["dataSource","pagination","page"],i).setIn(["dataSource","pagination","pageSize"],o).setIn(["dataSource","pagination","totalCount"],s).setIn(["dataSource","filter","patientId"],T),A=r.payload.data,E=e.getIn(["dataSource","data"])||[];return A=i===n?A:$.extend(E,A),c.setIn(["dataSource","data"],A);case a.LOAD_PATIENT_ACTIVE_MEDICATIONS_FAILURE:return e.setIn(["isFetching"],!1).setIn(["error"],r.payload)}return e}});