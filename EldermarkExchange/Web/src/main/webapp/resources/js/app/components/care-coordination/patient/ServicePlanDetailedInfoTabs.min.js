function ServicePlanDetailedInfoTabs(){Tabs.apply(this,arguments),this.state={activeIndex:0,isDetailsReady:!1,isChangeHistoryReady:!1,isScrollerShowed:!1}}ServicePlanDetailedInfoTabs.prototype=Object.create(Tabs.prototype),ServicePlanDetailedInfoTabs.prototype.constructor=ServicePlanDetailedInfoTabs,Tabs.prototype.getDefaultProps=function(){return{maxHeight:300,isScrollable:!0,className:"scroller-container",tabs:[{title:"Details",isActive:!0,content:{"<>":"div",class:"service-plan-details-tab-content"}},{title:"Change History",content:{"<>":"div",class:"service-plan-change-history-tab-content"}}],onLoadPlanFailure:function(){}}},ServicePlanDetailedInfoTabs.prototype.componentDidMount=function(){Tabs.prototype.componentDidMount.apply(this);var t=this;this.details=new ServicePlanDetails({container:this.$body.find(".service-plan-details-tab-content"),isReadonly:!0,planId:this.props.planId,patientId:this.props.patientId,onLoadSuccess:function(){t.updateBodyHeight()},onLoadFailure:function(e){t.props.onLoadPlanFailure(e)}}),this.details.mount(),this.list=new ServicePlanChangeHistoryList({container:this.$body.find(".service-plan-change-history-tab-content"),planId:this.props.planId,patientId:this.props.patientId,planDateModified:this.props.planDateModified,onSelect:function(e){t.props.onViewArchivedPlan(e)}}),this.list.mount();if(this.props.isScrollable){this.$body.addClass("scrollable-y");var e=ExchangeApp.info.context+"/resources/images/arrow2-top.svg";this.$element.json2html({},{"<>":"div",title:"Back to Top",class:"up-scroller",html:[{"<>":"img",src:e}],onclick:function(){t.scrollToStart()}}),this.addOnScrollHandler(function(e){var i=e.target.scrollTop,o=e.target.clientHeight,a=t.state.isScrollerShowed;i>o/2?!a&&t.setState({isScrollerShowed:!0}):a&&t.setState({isScrollerShowed:!1})})}},ServicePlanDetailedInfoTabs.prototype.componentDidUpdate=function(t,e){Tabs.prototype.componentDidUpdate.apply(this,arguments);this.state.activeIndex!==e.activeIndex&&this.list.isEmpty()&&this.list.reload();this.props.maxHeight!==t.maxHeight&&this.updateBodyHeight();var i=this.state.isScrollerShowed;i!==t.isScrollerShowed&&(i?this.showUpScroller():this.hideUpScroller())},ServicePlanDetailedInfoTabs.prototype.updateBodyHeight=function(){var t=this.$menu.height();this.$body.css({maxHeight:this.props.maxHeight-t})},ServicePlanDetailedInfoTabs.prototype.scrollToStart=function(){this.$body.scrollTo(0,500)},ServicePlanDetailedInfoTabs.prototype.hideUpScroller=function(){this.$element.find(".up-scroller").hide()},ServicePlanDetailedInfoTabs.prototype.showUpScroller=function(){this.$element.find(".up-scroller").show()},ServicePlanDetailedInfoTabs.prototype.addOnScrollHandler=function(t){this.$body.on("scroll",t)};