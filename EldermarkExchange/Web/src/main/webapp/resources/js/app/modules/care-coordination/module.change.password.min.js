$(document).on("ready",function(){var e=ExchangeApp.utils.module;$("#changePasswordForm").validate(new ExchangeApp.utils.wgt.Validation({rules:{password:{required:!0},newPassword:{required:!0},confirmNewPassword:{required:!0,equalTo:"#newPassword"}},messages:{password:{required:getErrorMessage("field.empty")},newPassword:{required:getErrorMessage("field.empty")},confirmNewPassword:{required:getErrorMessage("field.empty")}}})),$("#changePasswordBtn").on("click",function(r){r.preventDefault();var s=$("#changePasswordForm");if(!s.valid())return!1;$.ajax({url:"service/validatePasswordComplexity",type:"POST",beforeSend:function(r){e.csrf(r)},data:s.serialize()}).success(function(r){1==r?$.ajax({url:"service/validatePasswordHistory",type:"POST",beforeSend:function(r){e.csrf(r)},data:s.serialize()}).success(function(e){1==e?s.submit():$("#loginError").text("In order to secure your account, please create a unique password you have not used before")}).fail(function(e){$("#loginError").text("Internal server error")}):$("#loginError").text("Password does not meet the password requirements (see below)")}).fail(function(e){$("#loginError").text("Internal server error")})})});