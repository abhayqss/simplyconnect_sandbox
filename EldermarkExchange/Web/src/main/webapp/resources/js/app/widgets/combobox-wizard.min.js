$(document).on("ready",function(){$.widget("ui.autocomplete",$.ui.autocomplete,{options:{renderItem:null,renderMenu:null},_renderItem:function(e,t){return $.isFunction(this.options.renderItem)?this.options.renderItem(e,t):this._super(e,t)},_renderMenu:function(e,t){$.isFunction(this.options.renderMenu)&&this.options.renderMenu(e,t),this._super(e,t)}});var e=function(e,t){var i=$("input.custom-combobox-input:focus").closest(".autocomplete-tabs").find(".combo-wizard-first-select").data("container-id");$(e).attr("data-container-id",i)},t=function(e,t){var i=$("input.custom-combobox-input:focus").val(),a=t.label.replace(new RegExp("("+i+")","gi"),"<span class='highlight-green'>$1</span>");return $("<li>").append($("<div>").html(a)).appendTo(e)};$.widget("custom.combobox",{_create:function(){this.wrapper=$("<span>").addClass("custom-combobox").insertAfter(this.element),this.element.hide(),this._createAutocomplete()},_createAutocomplete:function(){var i=$(this.element),a=this.element.children(":selected"),n=a.val()?a.text():"";this.input=$("<input>").appendTo(this.wrapper).val(n).attr("title","").attr("placeholder",i.attr("data-input-placeholder")).addClass("custom-combobox-input ui-widget ui-widget-content ui-state-default ui-corner-left").addClass(i.attr("data-input-cssClass")).autocomplete({delay:0,minLength:0,source:$.proxy(this,"_source"),renderItem:t,renderMenu:e});var r=$(this.input);r.attr("data-container-id",r.closest(".autocomplete-tabs").attr("id")),this._on(this.input,{autocompleteselect:function(e,t){var i=$(this.input),a=$(t.item.option),n=(a.val(),i.closest(".autocomplete-tabs")),r=a.data("category");if("carrier"!=r){if("auxiliary-option"==r);else{var o=a.val();n.find(".dropdown-menu #menu2 li[data-plan-id = '"+o+"' ]").click()}t.item.option.selected=!0,this._trigger("select",e,{item:t.item.option});n.find(".dropdown-selected-plan").hide()}else{var c=a.data("carrier-id");n.find(".dropdown-menu #menu1 li[data-carrier-id = '"+c+"' ]").click()}},autocompletechange:"_removeIfInvalid",autocompletesearch:function(e,t){var i=$(this.input),a=i.closest(".autocomplete-tabs"),n=a.find(".dropdown-menu");if(a.data("selected-carrier-id")){var r=a.data("selected-carrier-id"),o=i.val();return n.find(".planTabContainer li.plan-option").each(function(){var e=$(this);e.text().toLowerCase().includes(o.toLowerCase())&&e.data("carrier-id")==r?e.show():e.hide()}),void function(e){e.find("#menu2 .first-letter-title").each(function(){var t=$(this),i=t.data("first-letter");e.find(".plan-option:visible[data-first-letter='"+i+"']").length>0?t.show():t.hide()})}(n)}n.hide()}})},_source:function(e,t){var i=new RegExp($.ui.autocomplete.escapeRegex(e.term),"i");t(this.element.children("option").map(function(){if(!$(this).closest(".autocomplete-tabs").data("selected-carrier-id")){var t=$(this).text();return!this.value||e.term&&!i.test(t)?void 0:{label:t,value:t,option:this}}}))},_removeIfInvalid:function(e,t){if(!t.item){var i=this.input.val().toLowerCase(),a=!1;this.element.children("option").each(function(){if($(this).text().toLowerCase()===i)return this.selected=a=!0,!1}),a||(this.element.val(""),this.input.autocomplete("instance").term="")}},_destroy:function(){this.wrapper.remove(),this.element.show()}}),$(".autocomplete-tabs").each(function(){function e(){f.click(),r.removeData(),l.val(""),c.val("").trigger("change"),d.val("").trigger("change"),o.val("").trigger("change"),r.find("span.check-mark").remove(),w.text(""),h.hide(),v.removeAttr("data-toggle"),m.addClass("not-active")}function t(){var e=c.val();if(""!=c.val()){var t=c.find("option[value='"+e+"']");l.val(t.text())}u.hide()}function i(){r.find(".selected-carrier-text").text(""),r.find(".selected-plan-text").text(a(function(){var e=r.data("selected-plan-option");return void 0===e?-1:e}()))}function a(e){var t=e.data("carrier-id"),i=r.find("li.carrier-option[data-carrier-id='"+t+"']").first();return $.trim(i.text())+", "+$.trim(e.text())}function n(){var e=r.data("selected-carrier-id");return void 0===e?-1:e}var r=$(this),o=r.find("select.autocomplete-tabs-select"),c=r.find("select.combo-wizard-first-select"),d=r.find("select.combo-wizard-second-select"),l=(o.combobox(),r.find(".custom-combobox-input")),s=r.find("button.dropdown-toggle"),u=r.find(".dropdown-menu"),p=r.find(".dropdown-selected-plan"),h=r.find(".selected-carrier-container");h.hide();var f=r.find("a[href='#menu1']"),v=r.find("a[href='#menu2']"),m=v.parent(),g=r.find(".planTabContainer"),w=$(".selected-carrier-id");s.hide(),p.hide(),s.on("click",function(){r.data("selected-plan-option")?(i(),p.show(),l.val("")):r.data("selected-carrier-option")?(r.find(".selected-plan-text").text(""),r.find(".selected-carrier-text").text(r.data("selected-carrier-option").text()),p.show(),l.val("")):(u.show(),u.find(".selected-carrier-container:visible").length>0&&(l.trigger(jQuery.Event("keydown",{keycode:32})),l.trigger(jQuery.Event("keydown",{keycode:8}))))}),l.focus(function(){s.trigger("click")}),$(document).mouseup(function(e){if(u.is(e.target)||0!==u.has(e.target).length||l.is(e.target)||t(),!p.is(e.target)&&0===p.has(e.target).length&&!l.is(e.target))if(p.hide(),r.data("selected-plan-option")){var i=a(r.data("selected-plan-option"));l.val(i),o.val(r.data("selected-plan-option").data("plan-id")).trigger("change")}else""==c.val()&&l.val("")}),$(".carrier-option").click(function(){u.show();var e=$(this),i=e.data("carrier-id");if(function(e){return r.find(".plan-option[data-carrier-id='"+e+"']").length>0}(i)){var a=function(e){return u.find("li[data-carrier-id='"+e+"']").first().text()}(i);h.show(),r.data("selected-carrier-id",i),r.data("selected-carrier-name",a),w.text(a),function(e){r.find("span.check-mark").remove(),e.append('<span class="glyphicon glyphicon-ok check-mark float-right"></span>')}(e),g.find(".carrier-plans-li-container").each(function(){var e=$(this);e.data("carrier-id")==n()?e.show():e.hide()}),g.find(".plan-option").each(function(){var e=$(this);e.data("carrier-id")===n()?e.show():e.hide()}),g.find(".first-letter-title").each(function(){var e=$(this),t=e.data("first-letter");g.find(".plan-option[data-first-letter='"+t+"']").length>0?e.show():e.hide()}),v.attr("data-toggle","tab"),m.removeClass("not-active"),v.click()}else o.val("carrier-"+i).trigger("change"),r.data("selected-carrier-option",e),t()}),$(".plan-option").click(function(){!function(e){var i=e.data("plan-id");o.val(i).trigger("change");var n=a(e);l.val(n),r.data("selected-plan-option",e),t()}($(this))}),$(".choose-different-insurance").click(function(t,i){e(),p.hide(),i||l.focus()}),$(".clear-plan").click(function(){e()}),o.on("change",function(){var e=this.value,t=o.find("option[value='"+e+"']");e.toLowerCase().includes("carrier-")?(c.val(t.attr("data-carrier-id")),d.val("")):(c.val(""),d.val(t.val()))}),c.val()&&""!=c.val()?r.find("li.carrier-option[data-carrier-id='"+c.val()+"']").click():d.val()&&""!=d.val()&&r.find("li.plan-option[data-plan-id='"+d.val()+"']").click()})});