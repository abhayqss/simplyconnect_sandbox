ServicePlanForm.ScoringSection=function(){function e(){Widget.apply(this,arguments),this.domains=[]}return e.prototype=Object.create(Widget.prototype),e.prototype.constructor=e,e.prototype.getDefaultProps=function(){return{data:{},isShowed:!0,isDisabled:!1,onChangeDomainScore:function(){}}},e.prototype.componentDidMount=function(){this.$element=$('[cmp-id="'+this.$$id+'"]');var e=this.props.data,t=this;$.each(e,function(e,i){var n=null;n="task"===i.name?new ServicePlanForm.ScoringSection.TaskDomain({container:t.$element,name:i.name,title:i.title,needs:i.needs}):new ServicePlanForm.ScoringSection.Domain({container:t.$element,name:i.name,title:i.title,score:i.score,needs:i.needs,isDisabled:t.props.isDisabled,onChangeScore:function(e){t.props.onChangeDomainScore(i,e)}}),t.domains.push(n),n.mount()})},e.prototype.show=function(){this.$element.removeClass("hidden")},e.prototype.hide=function(){this.$element.addClass("hidden")},e.prototype.render=function(){return{"<>":"div",class:"form-section scoring-section "+(this.props.data?"":"hidden"),html:[]}},e}($),ServicePlanForm.ScoringSection.Domain=function(e){function t(){Widget.apply(this,arguments),this.slider=null,this.needs=[]}return t.prototype=Object.create(Widget.prototype),t.prototype.constructor=t,t.prototype.getDefaultProps=function(){return{title:"",name:"",score:0,needs:[],isDisabled:!1,onChangeScore:function(){}}},t.prototype.componentDidMount=function(){this.$element=e('[cmp-id="'+this.$$id+'"]');var t=this.$element.find(".domain__header");this.$element.$header=t,this.$element.$body=this.$element.find(".domain__body");var i=this;this.slider=new Slider({container:t.find(".domain__scoring"),ticks:[0,1,2,3,4,5],ticks_labels:["0","1","2","3","4","5"],tooltip:"hide",enabled:!this.props.isDisabled,value:this.props.score,onChange:function(e){i.props.onChangeScore(e)}}),this.slider.mount(),e.each(this.props.needs,function(e,t){var n=new ServicePlanForm.ScoringSection.Domain.NeedDetails({container:i.$element.$body,index:e,data:t});i.needs.push(n),n.mount()})},t.prototype.render=function(){return{"<>":"div",class:"domain",html:[{"<>":"div",class:"domain__header",html:[{"<>":"div",class:"domain__title",text:this.props.title},{"<>":"div",class:"domain__scoring",html:[]}]},{"<>":"div",class:"domain__body",html:[]}]}},t}($),ServicePlanForm.ScoringSection.TaskDomain=function(e){function t(){Widget.apply(this,arguments),this.list=null}var i={high:"red",medium:"yellow",low:"green"};return t.prototype=Object.create(Widget.prototype),t.prototype.constructor=t,t.prototype.getDefaultProps=function(){return{title:"",name:"",needs:[]}},t.prototype.componentDidMount=function(){this.$element=e('[cmp-id="'+this.$$id+'"]'),this.$element.$header=this.$element.find(".domain__header"),this.$element.$body=this.$element.find(".domain__body"),this.list=new Table({container:this.$element.$body,className:"info-table task-info-table",hasFooter:!1,data:this.props.needs,columns:[{name:"priority",title:"",style:"width: 38px",getClassName:function(e){return"indicator indicator_"+i[e.toLowerCase()]},render:function(e,t,i){return String(i+1)}},{name:"activationOrEducationTask",title:"Relevant Activation or Education Task"},{name:"targetCompletionDate",title:"Target Completion Date",style:"width: 112px",render:function(e){return e?new Date(e).format("mm/dd/yyyy"):""}},{name:"completionDate",title:"Completion Date",style:"width: 112px",render:function(e){return e?new Date(e).format("mm/dd/yyyy"):""}}]}),this.list.mount()},t.prototype.render=function(){return{"<>":"div",class:"domain",html:[{"<>":"div",class:"domain__header",html:[{"<>":"div",class:"domain__title",text:this.props.title},{"<>":"div",class:"domain__scoring",html:[]}]},{"<>":"div",class:"domain__body",html:[]}]}},t}($),ServicePlanForm.ScoringSection.Domain.NeedDetails=function(e){function t(){Widget.apply(this,arguments),this.goalList=null}var i={high:"red",medium:"yellow",low:"green"};return t.prototype=Object.create(Widget.prototype),t.prototype.constructor=t,t.prototype.getDefaultProps=function(){return{index:0,data:{}}},t.prototype.componentDidMount=function(){this.$element=e('[cmp-id="'+this.$$id+'"]');var t=this.props.data.goals;t&&t.length>0&&(this.goalList=new Table({container:this.$element,className:"info-table goal-list",data:t,hasFooter:!1,columns:[{title:"Goal",name:"goal"},{title:"%",name:"progress",style:"width: 67px; font-weight: bold"},{title:"Barriers",name:"barriers"},{title:"Intervention / Action",name:"interventionAction"},{title:"Resource Name",name:"resourceName",style:"width: 130px"},{title:"Target Completion Date",name:"targetCompletionDate",style:"width: 112px",render:function(e){return e?new Date(e).format("mm/dd/yyyy"):""}},{title:"Completion Date",name:"completionDate",style:"width: 112px",render:function(e){return e?new Date(e).format("mm/dd/yyyy"):""}}]}),this.goalList.mount())},t.prototype.getData=function(){return this.props.data},t.prototype.render=function(){var e=this.props.index,t=this.props.data,n=(t.priority||"low").toLowerCase(),o=i[n],r=t.needOpportunity,a=t.proficiencyGraduationCriteria;return{"<>":"div",class:"need-details",html:[{"<>":"div",class:"need-description description",html:[{"<>":"div",class:"need-description__priority-indicator indicator indicator_"+o,html:[{"<>":"div",class:"indicator__badge",text:String(e+1)}]},{"<>":"div",class:"need-description__fields description__fields",html:[r?{"<>":"div",class:"need-description__field description__field need-opportunity field",html:[{"<>":"div",class:"field__label",text:"Need / Opportunity"},{"<>":"div",class:"field__value",text:r}]}:void 0,a?{"<>":"div",class:"need-description__field description__field proficiency-graduation-criteria field",html:[{"<>":"div",class:"field__label",text:"Proficiency / Graduation Criteria"},{"<>":"div",class:"field__value",text:a}]}:void 0]}]}]}},t}($);